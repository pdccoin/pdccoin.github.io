
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta charset="utf-8">
    <meta name="description" content="This site aims to provide the docs
                you need to understand Pandora and start building Pandora-based
                applications." />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta property="og:title" content="Payment Processing &#8212; Pandora" />
    <meta property="og:description" content="This site aims to provide the
    docs you need to understand Pandora and start building Pandora-based
    applications." />
    <meta property="og:image" content="https://developer.pandora.org/static/pandoradocs.png" />
    <meta property="og:type" content="website" />
    <link href="https://fonts.googleapis.com/css?family=Titillium+Web:400,700&display=swap" rel="stylesheet">
    
    <title>Payment Processing &#8212; Pandora</title>

    <link rel="stylesheet" href="../static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../static/sphinxbootstrap4.css" type="text/css" />
    <link rel="stylesheet" href="../static/bootstrap-4.3.1-dist/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../static/css/main.css" />
    
    <script id="documentation_options" data-url_root="../" src="../static/documentation_options.js"></script>
    <script src="../static/jquery.js"></script>
    <script src="../static/underscore.js"></script>
    <script src="../static/doctools.js"></script>
    <script src="../static/language_data.js"></script>
    <script src="../static/js/jquery.qrcode.js"></script>
    <script type="text/javascript" src="../static/bootstrap-4.3.1-dist/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../static/sphinxbootstrap4.js"></script>
    <link rel="shortcut icon" href="../static/favicon.png"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Operating Modes" href="operating_modes.html" />
    <link rel="prev" title="Wallets" href="wallets.html" /> 
  </head><body>
  
<nav class="navbar navbar-expand-md  fixed-top navbar-dark">
		<div class="content-container d-flex flex-wrap">
			<a class="navbar-brand py-1" href="../">
				<div class="header-logo">
					<div class="logo-light"></div>
				</div>
			</a>
			<button class="navbar-toggler navbar-dark ml-auto py-2 black" type="button" data-toggle="collapse"
				data-target="#exCollapsingNavbar2">
				&#9776;
			</button>
			<div class="navbar-collapse collapse" id="exCollapsingNavbar2">
				<ul class="navbar-nav mr-auto">
					
				</ul>
				<div class="dropdown-divider d-block d-md-none my-3"></div>
				
<form class="form-inline navbar-search" action="../search.html" method="get">
  <input type="text" name="q" class="navbar-search-input form-control" placeholder="Search" />
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>

			</div>
		</div>
	
		<!--<div class="row hidden-sm-up">
						<div class="collapse navbar-toggleable-xs container" id="exCollapsingNavbar2">
								<div class="container">
								　　 <a class="navbar-brand" href="../">
												Pandora
										</a>
								</div>
								<ul class="nav navbar-nav">
								</ul>
								<div class="dropdown-divider"></div>
								<div class="navbar-text">search<div>
								
<form class="form-inline navbar-search" action="../search.html" method="get">
  <input type="text" name="q" class="navbar-search-input form-control" placeholder="Search" />
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>

						</div>
				</div>-->
</nav>
</div>

  
  <div class="breadcrumbs-section" role="navigation" aria-label="related navigation">
	<div class="content-container">
		<div class="d-flex justify-content-between flex-wrap">
			<ol class="breadcrumb">
				<li class="breadcrumb-item">
					<a href="../">Pandora</a>
				</li>
				<li class="breadcrumb-item">
					<a href="index.html"  accesskey="U" class="active" >Developer Guides</a>
				</li>
				<li class="breadcrumb-item active">Payment Processing</li>
			</ol>

			<div class="btn-group btn-group-sm" role="group" aria-label="Basic example">
				<a href="wallets.html" title="Previous Chapter: Wallets" class="btn btn-primary"
					role="botton" accesskey="P">
					&laquo; Wallets
				</a>
				<a href="operating_modes.html" title="Next Chapter: Operating Modes" class="btn btn-primary"
					role="botton" accesskey="N">
					Operating Modes &raquo;
				</a>
			</div>
		</div>
	</div>
</div>

  <div class="main container-fluid">
    <div class="content-container">
      <div class="row"> 
  
      <div class="sphinxsidebar d-none d-md-block">
        <div class="sphinxsidebarwrapper">          
            <h4>Table Of Contents</h4>
            
            
              <div class="sidebartoctree">
                <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Developer Guides</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="block_chain.html">Block Chain</a></li>
<li class="toctree-l2"><a class="reference internal" href="transactions.html">Transactions</a></li>
<li class="toctree-l2"><a class="reference internal" href="contracts.html">Contracts</a></li>
<li class="toctree-l2"><a class="reference internal" href="wallets.html">Wallets</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="payment_processing.html#">Payment Processing</a></li>
<li class="toctree-l2"><a class="reference internal" href="operating_modes.html">Operating Modes</a></li>
<li class="toctree-l2"><a class="reference internal" href="p2p_network.html">P2P Network</a></li>
<li class="toctree-l2"><a class="reference internal" href="mining.html">Mining</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../reference/">Reference</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../reference/intro.html">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/block_chain.html">Block Chain</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/transactions.html">Transactions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/wallets.html">Wallets</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/p2p_networking.html">P2P Network</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/rpc/">RPC API Reference</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../examples/">Examples</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../examples/intro.html">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../examples/testing.html">Testing Applications</a></li>
<li class="toctree-l2"><a class="reference internal" href="../examples/transactions.html">Transactions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../examples/payment_processing.html">Payment Processing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../examples/p2p_networking.html">P2P Network</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../glossary.html">Glossary</a></li>
</ul>

              </div>
            
          
  <h4>Previous topic</h4>
  <p class="topless"><a href="wallets.html"
                        title="previous chapter">Wallets</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="operating_modes.html"
                        title="next chapter">Operating Modes</a></p>
















  <div>
    <h4>Contribute</h4>
    <p class="topless">
      <a href="https://github.com/pdccoin-documentation/website/blob/master/devguide/payment_processing.rst">Edit Page</a>
    </p>
  </div>
        </div>
      </div>
       
  
        <div class="document">
        <div class="documentwrapper">
          <div class="bodywrapper">
            <div class="body">
              
  <div class="section" id="payment-processing">
<h1>Payment Processing<a class="headerlink" href="payment_processing.html#payment-processing" title="Permalink to this headline">¶</a></h1>
<p>Payment processing encompasses the steps spenders and receivers perform to make and accept payments in exchange for products or services. The basic steps have not changed since the dawn of commerce, but the technology has.</p>
<div class="section" id="introduction">
<h2>Introduction<a class="headerlink" href="payment_processing.html#introduction" title="Permalink to this headline">¶</a></h2>
<p>This section will explain how receivers and spenders can, respectively, request and make payments using Pandora—and how they can deal with complications such as <a class="reference external" href="payment_processing.html#issuing-refunds">refunds</a> and <a class="reference external" href="payment_processing.html#rebilling-recurring-payments">recurrent rebilling</a>.</p>
<div class="figure align-default" id="id1">
<img alt="Pandora Payment Processing" src="../images/en-payment-processing.svg" /><p class="caption"><span class="caption-text">Pandora Payment Processing</span><a class="headerlink" href="payment_processing.html#id1" title="Permalink to this image">¶</a></p>
</div>
<p>The figure above illustrates payment processing using Pandora from a receiver’s perspective, starting with a new order. The following subsections will each address the three common steps and the three occasional or optional steps.</p>
<p>It is worth mentioning that each of these steps can be outsourced by using third party APIs and services.</p>
</div>
<div class="section" id="pricing-orders">
<h2>Pricing Orders<a class="headerlink" href="payment_processing.html#pricing-orders" title="Permalink to this headline">¶</a></h2>
<p>Because of exchange rate variability between jus and national currencies (<a class="reference internal" href="../terms.html#term-fiat"><span class="std std-ref">fiat</span></a>), many Pandora orders are priced in <a class="reference internal" href="../terms.html#term-fiat"><span class="std std-ref">fiat</span></a> but paid in jus, necessitating a price conversion.</p>
<p>Exchange rate data is widely available through HTTP-based APIs provided by currency exchanges. Several organizations also aggregate data from multiple exchanges to create index prices, which are also available using HTTP-based APIs.</p>
<p>Any applications which automatically calculate order totals using exchange rate data must take steps to ensure the price quoted reflects the current general market value of jus, or the applications could accept too few jus for the product or service being sold. Alternatively, they could ask for too many jus, driving away potential spenders.</p>
<p>To minimize problems, your applications may want to collect data from at least two separate sources and compare them to see how much they differ. If the difference is substantial, your applications can enter a safe mode until a human is able to evaluate the situation.</p>
<p>You may also want to program your applications to enter a safe mode if exchange rates are rapidly increasing or decreasing, indicating a possible problem in the Pandora market which could make it difficult to spend any jus received today.</p>
<p>Exchange rates lie outside the control of Pandora and related technologies, so there are no new or planned technologies which will make it significantly easier for your program to correctly convert order totals from <a class="reference internal" href="../terms.html#term-fiat"><span class="std std-ref">fiat</span></a> into jus.</p>
<p>Because the exchange rate fluctuates over time, order totals pegged to <a class="reference internal" href="../terms.html#term-fiat"><span class="std std-ref">fiat</span></a> must expire to prevent spenders from delaying payment in the hope that jus will drop in price. Most widely-used payment processing systems currently expire their invoices after 10 to 20 minutes.</p>
<p>Shorter expiration periods increase the chance the invoice will expire before payment is received, possibly necessitating manual intervention to request an additional payment or to issue a <a class="reference external" href="payment_processing.html#issuing-refunds">refund</a>. Longer expiration periods increase the chance that the exchange rate will fluctuate a significant amount before payment is received.</p>
</div>
<div class="section" id="requesting-payments">
<h2>Requesting Payments<a class="headerlink" href="payment_processing.html#requesting-payments" title="Permalink to this headline">¶</a></h2>
<p>Before requesting payment, your application must create a Pandora address, or acquire an address from another program such as Pandora Core. Pandora addresses are described in detail in the <a class="reference external" href="transactions.html">Transactions</a> guide. Also described in that section are two important reasons to avoid using an address more than once—but a third reason applies especially to payment requests:</p>
<p>Using a separate address for each incoming payment makes it trivial to determine which customers have paid their payment requests. Your applications need only track the association between a particular payment request and the address used in it, and then scan the block chain for transactions matching that address.</p>
<p>The next subsections will describe in detail the following four compatible ways to give the spender the address and amount to be paid. For increased convenience and compatibility, providing all of these options in your payment requests is recommended.</p>
<ol class="arabic simple">
<li><p>All wallet software lets its users paste in or manually enter an address and amount into a payment screen. This is, of course, inconvenient—but it makes an effective fallback option.</p></li>
<li><p>Almost all desktop wallets can associate with <a class="reference internal" href="../terms.html#term-pandora-uri"><span class="std std-ref">“pandora:” URIs</span></a>, so spenders can click a link to pre-fill the payment screen. This also works with many mobile wallets, but it generally does not work with web-based wallets unless the spender installs a browser extension or manually configures a URI handler.</p></li>
<li><p>Most mobile wallets support scanning <a class="reference internal" href="../terms.html#term-pandora-uri"><span class="std std-ref">“pandora:” URIs</span></a> encoded in a QR code, and almost all wallets can display them for accepting payment. While also handy for online orders, QR Codes are especially useful for in-person purchases.</p></li>
<li><p>Recent wallet updates add support for the new payment protocol providing increased security, authentication of a receiver’s identity using <a class="reference external" href="https://en.wikipedia.org/wiki/X.509">X.509</a> certificates, and other important features such as <a class="reference external" href="payment_processing.html#issuing-refunds">refunds</a>.</p></li>
</ol>
<p><img alt="Warning icon" src="../images/icon_warning.svg" /> <strong>Warning:</strong> Special care must be taken to avoid the theft of incoming payments. In particular, private keys should not be stored on web servers, and payment requests should be sent over HTTPS or other secure methods to prevent <a class="reference external" href="https://en.wikipedia.org/wiki/Man-in-the-middle_attack">man-in-the-middle</a> attacks from replacing your Pandora address with the attacker’s address.</p>
<div class="section" id="plain-text">
<h3>Plain Text<a class="headerlink" href="payment_processing.html#plain-text" title="Permalink to this headline">¶</a></h3>
<p>To specify an amount directly for copying and pasting, you must provide the address, the amount, and the denomination. An expiration time for the offer may also be specified. For example:</p>
<p>(Note: all examples in this section use testnet addresses.)</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Pay</span><span class="p">:</span> <span class="n">mjSk1Ny9spzU2fouzYgLqGUD8U41iR35QN</span>
<span class="n">Amount</span><span class="p">:</span> <span class="mi">100</span> <span class="n">PDC</span>
<span class="n">You</span> <span class="n">must</span> <span class="n">pay</span> <span class="n">by</span><span class="p">:</span> <span class="mi">2014</span><span class="o">-</span><span class="mi">04</span><span class="o">-</span><span class="mi">01</span> <span class="n">at</span> <span class="mi">23</span><span class="p">:</span><span class="mi">00</span> <span class="n">UTC</span>
</pre></div>
</div>
<p>Indicating the denomination is critical. As of this writing, popular Pandora wallet software defaults to denominating amounts in either pandoras (PDC) , millipandoras (mPDC) or micropandoras (uBTC, “bits”). Choosing between each unit is widely supported, but other software also lets its users select denomination amounts from some preselected (e.g. Table below) or all <a class="reference external" href="https://en.pandora.it/wiki/Units">standard 8 decimal places</a>:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 27%" />
<col style="width: 73%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>pandoras</p></th>
<th class="head"><p>Unit (Abbreviation)</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1.0</p></td>
<td><p>pandora (PDC)</p></td>
</tr>
<tr class="row-odd"><td><p>0.01</p></td>
<td><p>bitcent (cBTC)</p></td>
</tr>
<tr class="row-even"><td><p>0.001</p></td>
<td><p>millipandora (mPDC)</p></td>
</tr>
<tr class="row-odd"><td><p>0.000001</p></td>
<td><p>micropandora (uBTC, “bits”)</p></td>
</tr>
<tr class="row-even"><td><p>0.0000001</p></td>
<td><p>finney</p></td>
</tr>
<tr class="row-odd"><td><p>0.00000001</p></td>
<td><p>satoshi</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="pandora-uri">
<h3>pandora: URI<a class="headerlink" href="payment_processing.html#pandora-uri" title="Permalink to this headline">¶</a></h3>
<p>The <a class="reference internal" href="../terms.html#term-pandora-uri"><span class="std std-ref">“pandora:” URI</span></a> scheme defined in <a class="reference external" href="https://github.com/pdccoin/bips/blob/master/bip-0021.mediawiki">BIP21</a> eliminates denomination confusion and saves the spender from copying and pasting two separate values. It also lets the payment request provide some additional information to the spender. An example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>pandora:mjSk1Ny9spzU2fouzYgLqGUD8U41iR35QN?amount=100
</pre></div>
</div>
<p>Only the address is required, and if it is the only thing specified, wallets will pre-fill a payment request with it and let the spender enter an amount. The amount specified is always in decimal pandoras (PDC).</p>
<p>Two other parameters are widely supported. The <a class="reference internal" href="../terms.html#term-label"><span class="std std-ref">“label”</span></a> parameter is generally used to provide wallet software with the recipient’s name. The <a class="reference internal" href="../terms.html#term-message"><span class="std std-ref">“message”</span></a> parameter is generally used to describe the payment request to the spender. Both the label and the message are commonly stored by the spender’s wallet software—but they are never added to the actual transaction, so other Pandora users cannot see them. Both the label and the message must be <a class="reference external" href="https://tools.ietf.org/html/rfc3986">URI encoded</a>.</p>
<p>All four parameters used together, with appropriate URI encoding, can be seen in the line-wrapped example below.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>pandora:mjSk1Ny9spzU2fouzYgLqGUD8U41iR35QN\
?amount=0.10\
&amp;label=Example+Merchant\
&amp;message=Order+of+flowers+%26+chocolates
</pre></div>
</div>
<p>The URI scheme can be extended, as will be seen in the payment protocol section below, with both new optional and required parameters. As of this writing, the only widely-used parameter besides the four described above is the payment protocol’s <a class="reference internal" href="../terms.html#term-r-parameter"><span class="std std-ref">“r”</span></a> parameter.</p>
<p>Programs accepting URIs in any form must ask the user for permission before paying unless the user has explicitly disabled prompting (as might be the case for micropayments).</p>
</div>
<div class="section" id="qr-codes">
<h3>QR Codes<a class="headerlink" href="payment_processing.html#qr-codes" title="Permalink to this headline">¶</a></h3>
<p>QR codes are a popular way to exchange <a class="reference internal" href="../terms.html#term-pandora-uri"><span class="std std-ref">“pandora:” URIs</span></a> in person, in images, or in videos. Most mobile Pandora wallet apps, and some desktop wallets, support scanning QR codes to pre-fill their payment screens.</p>
<p>The figure below shows the same <a class="reference internal" href="../terms.html#term-pandora-uri"><span class="std std-ref">“pandora:” URI</span></a> code encoded as four different <a class="reference internal" href="../terms.html#term-uri-qr-code"><span class="std std-ref">Pandora QR codes</span></a> at four different error correction levels. The QR code can include the <a class="reference internal" href="../terms.html#term-label"><span class="std std-ref">“label”</span></a> and <a class="reference internal" href="../terms.html#term-message"><span class="std std-ref">“message”</span></a> parameters—and any other optional parameters—but they were omitted here to keep the QR code small and easy to scan with unsteady or low-resolution mobile cameras.</p>
<div class="figure align-default" id="id2">
<img alt="Pandora QR Codes" src="../images/en-qr-code.svg" /><p class="caption"><span class="caption-text">Pandora QR Codes</span><a class="headerlink" href="payment_processing.html#id2" title="Permalink to this image">¶</a></p>
</div>
<p>The error correction is combined with a checksum to ensure the <a class="reference internal" href="../terms.html#term-uri-qr-code"><span class="std std-ref">Pandora QR code</span></a> cannot be successfully decoded with data missing or accidentally altered, so your applications should choose the appropriate level of error correction based on the space you have available to display the code. Low-level damage correction works well when space is limited, and quartile-level damage correction helps ensure fast scanning when displayed on high-resolution screens.</p>
</div>
<div class="section" id="payment-protocol">
<h3>Payment Protocol<a class="headerlink" href="payment_processing.html#payment-protocol" title="Permalink to this headline">¶</a></h3>
<p><img alt="Warning icon" src="../images/icon_warning.svg" /> <strong>Warning:</strong> The payment protocol is considered to be deprecated and will be removed in a later version of Pandora Core. The protocol has multiple security design flaws and implementation flaws in some wallets. Users will begin receiving deprecation warnings in Pandora Core version 0.18 when using <a class="reference external" href="https://github.com/pdccoin/bips/blob/master/bip-0070.mediawiki">BIP70</a> URI’s. Merchants should transition away from <a class="reference external" href="https://github.com/pdccoin/bips/blob/master/bip-0070.mediawiki">BIP70</a> to more secure options such as <a class="reference external" href="https://github.com/pdccoin/bips/blob/master/bip-0021.mediawiki">BIP21</a>. Merchants should never require <a class="reference external" href="https://github.com/pdccoin/bips/blob/master/bip-0070.mediawiki">BIP70</a> payments and should provide <a class="reference external" href="https://github.com/pdccoin/bips/blob/master/bip-0021.mediawiki">BIP21</a> fallbacks.</p>
<p>Pandora Core 0.9 supports the new <a class="reference internal" href="../glossary.html#term-Payment-protocol"><span class="xref std std-term">payment protocol</span></a>. The payment protocol adds many important features to payment requests:</p>
<ul class="simple">
<li><p>Supports <a class="reference external" href="https://en.wikipedia.org/wiki/X.509">X.509</a> certificates and SSL encryption to verify receivers’ identity and help prevent <a class="reference external" href="https://en.wikipedia.org/wiki/Man-in-the-middle_attack">man-in-the-middle</a> attacks.</p></li>
<li><p>Provides more detail about the requested payment to spenders.</p></li>
<li><p>Allows spenders to submit transactions directly to receivers without going through the <a class="reference external" href="p2p_network.html">peer-to-peer network</a>. This can speed up payment processing and work with planned features such as child-pays-for-parent transaction fees and offline NFC or Bluetooth-based payments.</p></li>
</ul>
<p>Instead of being asked to pay a meaningless address, such as “mjSk1Ny9spzU2fouzYgLqGUD8U41iR35QN”, spenders are asked to pay the Common Name (CN) description from the receiver’s <a class="reference external" href="https://en.wikipedia.org/wiki/X.509">X.509</a> certificate, such as “www.pandora.org”.</p>
<p>To request payment using the payment protocol, you use an extended (but backwards-compatible) <a class="reference internal" href="../terms.html#term-pandora-uri"><span class="std std-ref">“pandora:” URI</span></a>. For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>pandora:mjSk1Ny9spzU2fouzYgLqGUD8U41iR35QN\
?amount=0.10\
&amp;label=Example+Merchant\
&amp;message=Order+of+flowers+%26+chocolates\
&amp;r=https://example.com/pay/mjSk1Ny9spzU2fouzYgLqGUD8U41iR35QN
</pre></div>
</div>
<p>None of the parameters provided above, except <a class="reference internal" href="../terms.html#term-r-parameter"><span class="std std-ref">“r”</span></a>, are required for the payment protocol—but your applications may include them for backwards compatibility with wallet programs which don’t yet handle the payment protocol.</p>
<p>The <a class="reference internal" href="../terms.html#term-r-parameter"><span class="std std-ref">“r”</span></a> parameter tells payment-protocol-aware wallet programs to ignore the other parameters and fetch a <a class="reference internal" href="../terms.html#term-paymentrequest"><span class="std std-ref">PaymentRequest</span></a> from the URL provided. The browser, QR code reader, or other program processing the URI opens the spender’s Pandora wallet program on the URI.</p>
<div class="figure align-default" id="id3">
<img alt="BIP70 Payment Protocol" src="../images/en-payment-protocol.svg" /><p class="caption"><span class="caption-text">BIP70 Payment Protocol</span><a class="headerlink" href="payment_processing.html#id3" title="Permalink to this image">¶</a></p>
</div>
<p>The Payment Protocol is described in depth in <a class="reference external" href="https://github.com/pdccoin/bips/blob/master/bip-0070.mediawiki">BIP70</a>, <a class="reference external" href="https://github.com/pdccoin/bips/blob/master/bip-0071.mediawiki">BIP71</a>, and <a class="reference external" href="https://github.com/pdccoin/bips/blob/master/bip-0072.mediawiki">BIP72</a>. An example CGI program and description of all the parameters which can be used in the Payment Protocol is provided in the Developer Examples <a class="reference external" href="../examples/payment_processing.html#payment-protocol">Payment Protocol</a> subsection. In this subsection, we will briefly describe in story format how the Payment Protocol is typically used.</p>
<p>Charlie, the client, is shopping on a website run by Bob, the businessman. Charlie adds a few items to his shopping cart and clicks the “Checkout With Pandora” button.</p>
<p>Bob’s server automatically adds the following information to its invoice database:</p>
<ul class="simple">
<li><p>The details of Charlie’s order, including items ordered and shipping address.</p></li>
<li><p>An order total in jus, perhaps created by converting prices in <a class="reference internal" href="../terms.html#term-fiat"><span class="std std-ref">fiat</span></a> to prices in jus.</p></li>
<li><p>An expiration time when that total will no longer be acceptable.</p></li>
<li><p>A pubkey script to which Charlie should send payment. Typically this will be a P2PKH or P2SH pubkey script containing a unique (never before used) <a class="reference external" href="http://www.secg.org/sec2-v2.pdf">secp256k1</a> public key.</p></li>
</ul>
<p>After adding all that information to the database, Bob’s server displays a <a class="reference internal" href="../terms.html#term-pandora-uri"><span class="std std-ref">“pandora:” URI</span></a> for Charlie to click to pay.</p>
<p>Charlie clicks on the <a class="reference internal" href="../terms.html#term-pandora-uri"><span class="std std-ref">“pandora:” URI</span></a> in his browser. His browser’s URI handler sends the URI to his wallet program. The wallet is aware of the Payment Protocol, so it parses the <a class="reference internal" href="../terms.html#term-r-parameter"><span class="std std-ref">“r”</span></a> parameter and sends an HTTP GET to that URL looking for a <a class="reference internal" href="../terms.html#term-paymentrequest"><span class="std std-ref">PaymentRequest</span></a> message.</p>
<p>The <a class="reference internal" href="../terms.html#term-paymentrequest"><span class="std std-ref">PaymentRequest</span></a> message returned may include private information, such as Charlie’s mailing address, but the wallet must be able to access it without using prior authentication, such as HTTP cookies, so a publicly accessible HTTPS URL with a guess-resistant part is typically used. The unique public key created for the payment request can be used to create a unique identifier. This is why, in the example URI above, the <a class="reference internal" href="../terms.html#term-paymentrequest"><span class="std std-ref">PaymentRequest</span></a> URL contains the P2PKH address: <code class="docutils literal notranslate"><span class="pre">https://example.com/pay/mjSk1Ny9spzU2fouzYgLqGUD8U41iR35QN</span></code></p>
<p>After receiving the HTTP GET to the URL above, the <a class="reference internal" href="../terms.html#term-paymentrequest"><span class="std std-ref">PaymentRequest</span></a>-generating CGI program on Bob’s webserver takes the unique identifier from the URL and looks up the corresponding details in the database. It then creates a <a class="reference internal" href="../terms.html#term-paymentdetails"><span class="std std-ref">PaymentDetails</span></a> message with the following information:</p>
<ul class="simple">
<li><p>The amount of the order in jus and the pubkey script to be paid.</p></li>
<li><p>A memo containing the list of items ordered, so Charlie knows what he’s paying for. It may also include Charlie’s mailing address so he can double-check it.</p></li>
<li><p>The time the <a class="reference internal" href="../terms.html#term-paymentdetails"><span class="std std-ref">PaymentDetails</span></a> message was created plus the time it expires.</p></li>
<li><p>A URL to which Charlie’s wallet should send its completed transaction.</p></li>
</ul>
<p>That <a class="reference internal" href="../terms.html#term-paymentdetails"><span class="std std-ref">PaymentDetails</span></a> message is put inside a <a class="reference internal" href="../terms.html#term-paymentrequest"><span class="std std-ref">PaymentRequest</span></a> message. The payment request lets Bob’s server sign the entire Request with the server’s <a class="reference external" href="https://en.wikipedia.org/wiki/X.509">X.509</a> SSL certificate. (The Payment Protocol has been designed to allow other signing methods in the future.) Bob’s server sends the payment request to Charlie’s wallet in the reply to the HTTP GET.</p>
<div class="figure align-default" id="id4">
<img alt="Pandora Core Showing Validated Payment Request" src="../images/en-btcc-payment-request.png" />
<p class="caption"><span class="caption-text">Pandora Core Showing Validated Payment Request</span><a class="headerlink" href="payment_processing.html#id4" title="Permalink to this image">¶</a></p>
</div>
<p>Charlie’s wallet receives the <a class="reference internal" href="../terms.html#term-paymentrequest"><span class="std std-ref">PaymentRequest</span></a> message, checks its signature, and then displays the details from the <a class="reference internal" href="../terms.html#term-paymentdetails"><span class="std std-ref">PaymentDetails</span></a> message to Charlie. Charlie agrees to pay, so the wallet constructs a payment to the pubkey script Bob’s server provided. Unlike a traditional Pandora payment, Charlie’s wallet doesn’t necessarily automatically broadcast this payment to the <a class="reference external" href="p2p_network.html">network</a>. Instead, the wallet constructs a Payment message and sends it to the URL provided in the <a class="reference internal" href="../terms.html#term-paymentdetails"><span class="std std-ref">PaymentDetails</span></a> message as an HTTP POST. Among other things, the Payment message contains:</p>
<ul class="simple">
<li><p>The signed transaction in which Charlie pays Bob.</p></li>
<li><p>An optional memo Charlie can send to Bob. (There’s no guarantee that Bob will read it.)</p></li>
<li><p>A <a class="reference external" href="payment_processing.html#issuing-refunds">refund</a> address (pubkey script) which Bob can pay if he needs to return some or all of Charlie’s jus.</p></li>
</ul>
<p>Bob’s server receives the Payment message, verifies the transaction pays the requested amount to the address provided, and then broadcasts the transaction to the <a class="reference external" href="p2p_network.html">network</a>. It also replies to the HTTP POSTed Payment message with a PaymentACK message, which includes an optional memo from Bob’s server thanking Charlie for his patronage and providing other information about the order, such as the expected arrival date.</p>
<p>Charlie’s wallet sees the PaymentACK and tells Charlie that the payment has been sent. The PaymentACK doesn’t mean that Bob has verified Charlie’s payment—see the Verifying Payment subsection below—but it does mean that Charlie can go do something else while the transaction gets confirmed. After Bob’s server verifies from the block chain that Charlie’s transaction has been suitably confirmed, it authorizes shipping Charlie’s order.</p>
<p>In the case of a dispute, Charlie can generate a cryptographically proven <a class="reference internal" href="../terms.html#term-receipt"><span class="std std-ref">receipt</span></a> out of the various signed or otherwise-proven information.</p>
<ul class="simple">
<li><p>The <a class="reference internal" href="../terms.html#term-paymentdetails"><span class="std std-ref">PaymentDetails</span></a> message signed by Bob’s webserver proves Charlie received an invoice to pay a specified pubkey script for a specified number of jus for goods specified in the memo field.</p></li>
<li><p>The Pandora block chain can prove that the pubkey script specified by Bob was paid the specified number of jus.</p></li>
</ul>
<p>If a <a class="reference external" href="payment_processing.html#issuing-refunds">refund</a> needs to be issued, Bob’s server can safely pay the <a class="reference external" href="payment_processing.html#issuing-refunds">refund</a>-to pubkey script provided by Charlie. See the <a class="reference external" href="payment_processing.html#issuing-refunds">Refunds</a> section below for more details.</p>
</div>
</div>
<div class="section" id="verifying-payment">
<h2>Verifying Payment<a class="headerlink" href="payment_processing.html#verifying-payment" title="Permalink to this headline">¶</a></h2>
<p>As explained in the <a class="reference external" href="transactions.html">Transactions</a> and <a class="reference external" href="block_chain.html">Block Chain</a> sections, broadcasting a transaction to the <a class="reference external" href="p2p_network.html">network</a> doesn’t ensure that the receiver gets paid. A malicious spender can create one transaction that pays the receiver and a second one that pays the same input back to himself. Only one of these transactions will be added to the block chain, and nobody can say for sure which one it will be.</p>
<p>Two or more transactions spending the same input are commonly referred to as a <a class="reference internal" href="../glossary.html#term-Double-spend"><span class="xref std std-term">double spend</span></a>.</p>
<p>Once the transaction is included in a block, double spends are impossible without modifying block chain history to replace the transaction, which is quite difficult. Using this system, the Pandora protocol can give each of your transactions an updating confidence score based on the number of blocks which would need to be modified to replace a transaction. For each block, the transaction gains one <a class="reference internal" href="../glossary.html#term-Confirmation-score"><span class="xref std std-term">confirmation</span></a>. Since modifying blocks is quite difficult, higher confirmation scores indicate greater protection.</p>
<p><strong>0 confirmations</strong>: The transaction has been broadcast but is still not included in any block. Zero confirmation transactions (unconfirmed transactions) should generally not be trusted without risk analysis. Although miners usually confirm the first transaction they receive, fraudsters may be able to manipulate the <a class="reference external" href="p2p_network.html">network</a> into including their version of a transaction.</p>
<p><strong>1 confirmation</strong>: The transaction is included in the latest block and double-spend risk decreases dramatically. Transactions which pay sufficient transaction fees need 10 minutes on average to receive one confirmation. However, the most recent block gets replaced fairly often by accident, so a double spend is still a real possibility.</p>
<p><strong>2 confirmations</strong>: The most recent block was chained to the block which includes the transaction. As of March 2014, two block replacements were exceedingly rare, and a two block replacement attack was impractical without expensive mining equipment.</p>
<p><strong>6 confirmations</strong>: The <a class="reference external" href="p2p_network.html">network</a> has spent about an hour working to protect the transaction against double spends and the transaction is buried under six blocks. Even a reasonably lucky attacker would require a large percentage of the total <a class="reference external" href="p2p_network.html">network</a> hashing power to replace six blocks. Although this number is somewhat arbitrary, software handling high-value transactions, or otherwise at risk for fraud, should wait for at least six confirmations before treating a payment as accepted.</p>
<p>Pandora Core provides several <a class="reference external" href="../reference/rpc/">RPCs</a> which can provide your program with the confirmation score for transactions in your wallet or arbitrary transactions. For example, the <a class="reference external" href="../reference/rpc/listunspent.html">“listunspent” RPC</a> provides an array of every satoshi you can spend along with its confirmation score.</p>
<p>Although confirmations provide excellent double-spend protection most of the time, there are at least three cases where double-spend risk analysis can be required:</p>
<ol class="arabic simple">
<li><p>In the case when the program or its user cannot wait for a confirmation and wants to accept unconfirmed payments.</p></li>
<li><p>In the case when the program or its user is accepting high value transactions and cannot wait for at least six confirmations or more.</p></li>
<li><p>In the case of an implementation bug or prolonged attack against Pandora which makes the system less reliable than expected.</p></li>
</ol>
<p>An interesting source of double-spend risk analysis can be acquired by connecting to large numbers of Pandora peers to track how transactions and blocks differ from each other. Some third-party APIs can provide you with this type of service.</p>
<p>For example, unconfirmed transactions can be compared among all connected peers to see if any UTXO is used in multiple unconfirmed transactions, indicating a double-spend attempt, in which case the payment can be refused until it is confirmed. Transactions can also be ranked by their transaction fee to estimate the amount of time until they’re added to a block.</p>
<p>Another example could be to detect a fork when multiple peers report differing block header hashes at the same block height. Your program can go into a safe mode if the fork extends for more than two blocks, indicating a possible problem with the block chain. For more details, see the <a class="reference external" href="block_chain.html#detecting-forks">Detecting Forks subsection</a>.</p>
<p>Another good source of double-spend protection can be human intelligence. For example, fraudsters may act differently from legitimate customers, letting savvy merchants manually flag them as high risk. Your program can provide a safe mode which stops automatic payment acceptance on a global or per-customer basis.</p>
</div>
<div class="section" id="issuing-refunds">
<h2>Issuing Refunds<a class="headerlink" href="payment_processing.html#issuing-refunds" title="Permalink to this headline">¶</a></h2>
<p>Occasionally receivers using your applications will need to issue <a class="reference external" href="payment_processing.html#issuing-refunds">refunds</a>. The obvious way to do that, which is very unsafe, is simply to return the jus to the pubkey script from which they came. For example:</p>
<ul class="simple">
<li><p>Alice wants to buy a widget from Bob, so Bob gives Alice a price and Pandora address.</p></li>
<li><p>Alice opens her wallet program and sends some jus to that address. Her wallet program automatically chooses to spend those jus from one of its unspent outputs, an output corresponding to the Pandora address mjSk1Ny9spzU2fouzYgLqGUD8U41iR35QN.</p></li>
<li><p>Bob discovers Alice paid too many jus. Being an honest fellow, Bob <a class="reference external" href="payment_processing.html#issuing-refunds">refunds</a> the extra jus to the mjSk… address.</p></li>
</ul>
<p>This seems like it should work, but Alice is using a centralized multi-user web wallet which doesn’t give <a class="reference internal" href="../terms.html#term-unique-address"><span class="std std-ref">unique addresses</span></a> to each user, so it has no way to know that Bob’s <a class="reference external" href="payment_processing.html#issuing-refunds">refund</a> is meant for Alice. Now the <a class="reference external" href="payment_processing.html#issuing-refunds">refund</a> is a unintentional donation to the company behind the centralized wallet, unless Alice opens a support ticket and proves those jus were meant for her.</p>
<p>This leaves receivers only two correct ways to issue <a class="reference external" href="payment_processing.html#issuing-refunds">refunds</a>:</p>
<ul class="simple">
<li><p>If an address was copy-and-pasted or a basic <a class="reference internal" href="../terms.html#term-pandora-uri"><span class="std std-ref">“pandora:” URI</span></a> was used, contact the spender directly and ask them to provide a <a class="reference external" href="payment_processing.html#issuing-refunds">refund</a> address.</p></li>
<li><p>If the payment protocol was used, send the <a class="reference external" href="payment_processing.html#issuing-refunds">refund</a> to the output listed in the <code class="docutils literal notranslate"><span class="pre">refund_to</span></code> field of the Payment message.</p></li>
</ul>
<p>Note: it would be wise to contact the spender directly if the <a class="reference external" href="payment_processing.html#issuing-refunds">refund</a> is being issued a long time after the original payment was made. This allows you to ensure the user still has access to the key or keys for the <code class="docutils literal notranslate"><span class="pre">refund_to</span></code> address.</p>
</div>
<div class="section" id="disbursing-income-limiting-forex-risk">
<h2>Disbursing Income (Limiting Forex Risk)<a class="headerlink" href="payment_processing.html#disbursing-income-limiting-forex-risk" title="Permalink to this headline">¶</a></h2>
<p>Many receivers worry that their jus will be less valuable in the future than they are now, called foreign exchange (forex) risk. To limit forex risk, many receivers choose to disburse newly-acquired payments soon after they’re received.</p>
<p>If your application provides this business logic, it will need to choose which outputs to spend first. There are a few different algorithms which can lead to different results.</p>
<ul class="simple">
<li><p>A <a class="reference internal" href="../terms.html#term-merge-avoidance"><span class="std std-ref">merge avoidance</span></a> algorithm makes it harder for outsiders looking at block chain data to figure out how many jus the receiver has earned, spent, and saved.</p></li>
<li><p>A last-in-first-out (LIFO) algorithm spends newly acquired jus while there’s still double spend risk, possibly pushing that risk on to others. This can be good for the receiver’s balance sheet but possibly bad for their reputation.</p></li>
<li><p>A first-in-first-out (FIFO) algorithm spends the oldest jus first, which can help ensure that the receiver’s payments always confirm, although this has utility only in a few edge cases.</p></li>
</ul>
<div class="section" id="merge-avoidance">
<h3>Merge Avoidance<a class="headerlink" href="payment_processing.html#merge-avoidance" title="Permalink to this headline">¶</a></h3>
<p>When a receiver receives jus in an output, the spender can track (in a crude way) how the receiver spends those jus. But the spender can’t automatically see other jus paid to the receiver by other spenders as long as the receiver uses <a class="reference internal" href="../terms.html#term-unique-address"><span class="std std-ref">unique addresses</span></a> for each transaction.</p>
<p>However, if the receiver spends jus from two different spenders in the same transaction, each of those spenders can see the other spender’s payment. This is called a <a class="reference internal" href="../terms.html#term-merge"><span class="std std-ref">merge</span></a>, and the more a receiver merges outputs, the easier it is for an outsider to track how many jus the receiver has earned, spent, and saved.</p>
<p><a class="reference internal" href="../terms.html#term-merge-avoidance"><span class="std std-ref">Merge avoidance</span></a> means trying to avoid spending unrelated outputs in the same transaction. For persons and businesses which want to keep their transaction data secret from other people, it can be an important strategy.</p>
<p>A crude <a class="reference internal" href="../terms.html#term-merge-avoidance"><span class="std std-ref">merge avoidance</span></a> strategy is to try to always pay with the smallest output you have which is larger than the amount being requested. For example, if you have four outputs holding, respectively, 100, 200, 500, and 900 jus, you would pay a bill for 300 jus with the 500-satoshi output. This way, as long as you have outputs larger than your bills, you avoid merging.</p>
<p>More advanced <a class="reference internal" href="../terms.html#term-merge-avoidance"><span class="std std-ref">merge avoidance</span></a> strategies largely depend on enhancements to the payment protocol which will allow payers to avoid merging by intelligently distributing their payments among multiple outputs provided by the receiver.</p>
</div>
<div class="section" id="last-in-first-out-lifo">
<h3>Last In, First Out (LIFO)<a class="headerlink" href="payment_processing.html#last-in-first-out-lifo" title="Permalink to this headline">¶</a></h3>
<p>Outputs can be spent as soon as they’re received—even before they’re confirmed. Since recent outputs are at the greatest risk of being double-spent, spending them before older outputs allows the spender to hold on to older confirmed outputs which are much less likely to be double-spent.</p>
<p>There are two closely-related downsides to LIFO:</p>
<ul class="simple">
<li><p>If you spend an output from one unconfirmed transaction in a second transaction, the second transaction becomes invalid if transaction malleability changes the first transaction.</p></li>
<li><p>If you spend an output from one unconfirmed transaction in a second transaction and the first transaction’s output is successfully double spent to another output, the second transaction becomes invalid.</p></li>
</ul>
<p>In either of the above cases, the receiver of the second transaction will see the incoming transaction notification disappear or turn into an error message.</p>
<p>Because LIFO puts the recipient of secondary transactions in as much double-spend risk as the recipient of the primary transaction, they’re best used when the secondary recipient doesn’t care about the risk—such as an exchange or other service which is going to wait for six confirmations whether you spend old outputs or new outputs.</p>
<p>LIFO should not be used when the primary transaction recipient’s reputation might be at stake, such as when paying employees. In these cases, it’s better to wait for transactions to be fully verified (see the <a class="reference external" href="payment_processing.html#verifying-payment">Verification subsection</a> above) before using them to make payments.</p>
</div>
<div class="section" id="first-in-first-out-fifo">
<h3>First In, First Out (FIFO)<a class="headerlink" href="payment_processing.html#first-in-first-out-fifo" title="Permalink to this headline">¶</a></h3>
<p>The oldest outputs are the most reliable, as the longer it’s been since they were received, the more blocks would need to be modified to double spend them. However, after just a few blocks, a point of rapidly diminishing returns is reached. The <a class="reference external" href="https://pdccoin.github.io/pandora-paper">original Pandora paper</a> predicts the chance of an attacker being able to modify old blocks, assuming the attacker has 30% of the total <a class="reference external" href="p2p_network.html">network</a> hashing power:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Blocks</p></th>
<th class="head"><p>Chance of successful modification</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>5</p></td>
<td><p>17.73523%</p></td>
</tr>
<tr class="row-odd"><td><p>10</p></td>
<td><p>4.16605%</p></td>
</tr>
<tr class="row-even"><td><p>15</p></td>
<td><p>1.01008%</p></td>
</tr>
<tr class="row-odd"><td><p>20</p></td>
<td><p>0.24804%</p></td>
</tr>
<tr class="row-even"><td><p>25</p></td>
<td><p>0.06132%</p></td>
</tr>
<tr class="row-odd"><td><p>30</p></td>
<td><p>0.01522%</p></td>
</tr>
<tr class="row-even"><td><p>35</p></td>
<td><p>0.00379%</p></td>
</tr>
<tr class="row-odd"><td><p>40</p></td>
<td><p>0.00095%</p></td>
</tr>
<tr class="row-even"><td><p>45</p></td>
<td><p>0.00024%</p></td>
</tr>
<tr class="row-odd"><td><p>50</p></td>
<td><p>0.00006%</p></td>
</tr>
</tbody>
</table>
<p>FIFO does have a small advantage when it comes to transaction fees, as older outputs may be eligible for inclusion in the 50,000 bytes set aside for no-fee-required high-priority transactions by miners running the default Pandora Core codebase. However, with transaction fees being so low, this is not a significant advantage.</p>
<p>The only practical use of FIFO is by receivers who spend all or most of their income within a few blocks, and who want to reduce the chance of their payments becoming accidentally invalid. For example, a receiver who holds each payment for six confirmations, and then spends 100% of <a class="reference external" href="payment_processing.html#verifying-payment">verified payments</a> to vendors and a savings account on a bi-hourly schedule.</p>
</div>
</div>
<div class="section" id="rebilling-recurring-payments">
<h2>Rebilling Recurring Payments<a class="headerlink" href="payment_processing.html#rebilling-recurring-payments" title="Permalink to this headline">¶</a></h2>
<p>Automated recurring payments are not possible with decentralized Pandora wallets. Even if a wallet supported automatically sending non-reversible payments on a regular schedule, the user would still need to start the program at the appointed time, or leave it running all the time unprotected by encryption.</p>
<p>This means automated recurring Pandora payments can only be made from a centralized server which handles jus on behalf of its spenders. In practice, receivers who want to set prices in <a class="reference internal" href="../terms.html#term-fiat"><span class="std std-ref">fiat</span></a> terms must also let the same centralized server choose the appropriate exchange rate.</p>
<p>Non-automated rebilling can be managed by the same mechanism used before credit-card recurring payments became common: contact the spender and ask them to pay again—for example, by sending them a <a class="reference internal" href="../terms.html#term-paymentrequest"><span class="std std-ref">PaymentRequest</span></a> <a class="reference internal" href="../terms.html#term-pandora-uri"><span class="std std-ref">“pandora:” URI</span></a> in an HTML email.</p>
<p>In the future, extensions to the payment protocol and new wallet features may allow some wallet programs to manage a list of recurring transactions. The spender will still need to start the program on a regular basis and authorize payment—but it should be easier and more secure for the spender than clicking an emailed invoice, increasing the chance receivers get paid on time.</p>
</div>
</div>


            </div>
          </div>
        </div>
      </div>
        <div class="clearer"></div>
        </div>
      </div>
    </div>
<footer class="footer">
  <div class="footer-with-logo">
    <div class="footer-container">
      <a href="https://pdccoin.github.io/">
        <div class="footer-logo"></div>
      </a>

      <div class="footer-row ">
        <div class="donate">
          <div class="donate-row">
            <div>
              <span class="footer-title">Support pandoracoin.org :</span>
              <button onclick="openDonationModal()" class="donate-btn">Donate</button>
              <p class="donate-text">
                <a class="donate-link" href="pandora:pdc1qdm5w4had2v389eqed64ap2xfkmqvzw7u0rfqjq" target="_blank">pdc1qdm5w4had2v389eqed64ap2xfkmqvzw7u0rfqjq</a>
              </p>
            </div>
          </div>
        </div>
        
        <div class="footermenu">
          <div class="footermenu-item footermenu-introduction">
            <p class="footer-title">Introduction:</p>
            <ul class="footermenu-list">
              
              
              <li>
                <a href="../">Developers</a>
              </li>
              <li>
                <a href="https://pdccoin.github.io/getting-started">Getting started</a>
              </li>
              <li>
                <a href="https://pdccoin.github.io/how-it-works">How it works</a>
              </li>
              <li>
                <a href="https://pdccoin.github.io/you-need-to-know">You need to know</a>
              </li>
                <a href="https://pdccoin.github.io/pandora-paper">White paper</a>
              </li>
            </ul>
          </div>
          
          <div class="footermenu-item footermenu-resources">
            <p class="footer-title">Resources:</p>
            <ul class="footermenu-list">
             
              
              <li>
                <a href="https://pdccoin.github.io/community">Community</a>
              </li>
              <li>
                <a href="https://pdccoin.github.io/vocabulary">Vocabulary</a>
              </li>
              <li>
                <a href="https://pdccoin.github.io/events">Events</a>
              </li>
              <li>
                <a href="https://pdccoin.github.io/pandora-core/">Pandora Core</a>
              </li>
            </ul>
          </div>
          
          <div class="footermenu-item footermenu-participate">
            <p class="footer-title">Participate:</p>
            <ul class="footermenu-list">
             
               <!-- <li>
                <a href="https://pdccoin.github.io/full-node">Running a full node</a>
              </li> -->
              <li>
                <a href="https://pdccoin.github.io/full-node">Running a full node</a>
              </li>
              <li>
                <a href="https://pdccoin.github.io/development">Development</a>
              </li>
            </ul>
          </div>
          <div class="footermenu-item footermenu-other">
            <p class="footer-title">Other:</p>
            <a href="https://pdccoin.github.io/scams">Avoid Scams</a>
            <a href="https://pdccoin.github.io/legal">Legal</a>
            <a href="https://pdccoin.github.io/privacy">Privacy Policy</a>
            <a href="https://pdccoin.github.io/press">Press</a>
            <a href="https://pdccoin.github.io/about-us">About pandora.org</a>
            <a href="https://pdccoin.github.io/blog">Blog</a>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="copyright">
      <div>&copy; Copyright Pandora Project 2009-2020.</div>
  </div>
</footer>

<div id="donation-modal" style="display: none" class="donation-modal open">
  <div>
    <div>
      <div class="modal-close-btn" onclick="closeDonationModal()">×</div>
      <p class="modal-header-text">Donate to pandoracoin.org</p>
    </div>
    <p class="modal-subheader">Use this QR code or address below</p>
    <div style="text-align: center;">
      <div id="donation-qr-code" data-address="pdc1qdm5w4had2v389eqed64ap2xfkmqvzw7u0rfqjq"></div>
    </div>
    <div>
      <a
        class="donation-btc-address"
        href="pandora:pdc1qdm5w4had2v389eqed64ap2xfkmqvzw7u0rfqjq"
        target="_blank"
      >
        pdc1qdm5w4had2v389eqed64ap2xfkmqvzw7u0rfqjq
      </a>
    </div>
    <div style="overflow-y:hidden;text-align: center;">
      <div class="donation-buttons">
        <button type="button" class="donation-amount-btn" data-amount-usd="5">
          $5.00
          <div class="donation-amount-usd-in-btc">(... PDC)</div>
        </button>
        <button type="button" class="donation-amount-btn" data-amount-usd="25">
          $25.00
          <div class="donation-amount-usd-in-btc">(... PDC)</div>
        </button>
        <button type="button" class="donation-amount-btn" data-amount-usd="50">
          $50.00
          <div class="donation-amount-usd-in-btc">(... PDC)</div>
        </button>
      </div>

      <div class="donation-inputs">
        <input
          type="text"
          placeholder="Or custom amount? (PDC)"
          id="donation-input-amount-btc" class="donation-amount-input">
        <input
          type="text"
          placeholder="Or custom amount? (USD)"
          id="donation-input-amount-usd" class="donation-amount-input">
      </div>

      <div>
        <textarea
          class="donation-amount-input"
          id="donation-input-message"
          placeholder="Optional description (for your wallet)"></textarea>
      </div>
    </div>
  </div>
</div>
  </body>
</html>